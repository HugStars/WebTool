(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ba488d46"],{"0705":function(e,t,a){"use strict";a.r(t);a("14d9"),a("b7ef");var n=a("7a23"),o=a("b249");a("07e2");const c={class:"ico"},l=(e=>(Object(n.pushScopeId)("data-v-76c9fe00"),e=e(),Object(n.popScopeId)(),e))(()=>Object(n.createElementVNode)("p",{class:"title"},"选择图标参数：",-1)),r=["src"];var u={__name:"Ico",setup(e){const t=Object(o.a)();let a=Object(n.ref)("点击或者拖动文件到该区域来上传"),u=Object(n.ref)(["16","32","48","64"]),i=Object(n.ref)(["等待生成中..."]),d=Object(n.ref)(null),b=Object(n.ref)(null),f=Object(n.ref)(null);function s(e){a.value=e.file.name,d.value=e.file.file}function h(){if(!d.value)return t.warning("请先上传文件");if(0==u.value.length)return t.warning("请选择图标参数");let e=new FileReader;e.readAsDataURL(d.value),e.addEventListener("load",()=>{!function(e,a){a=a.toLowerCase().split("").reverse().join(""),f.value=a.substring(a.indexOf(".")).split("").reverse().join("")+"ico";let n=[];const o=new Image;o.src=e,o.onload=function(){for(let e=0;u.value[e];++e){const t=document.createElement("canvas"),a=t.getContext("2d");t.width=u.value[e],t.height=u.value[e],a.drawImage(o,0,0,o.width,o.height,0,0,t.width,t.height),n.push(t)}if(b.value=function(e){let t,a,n,o,c,l=[];for(a=0;a<e.length;a++){(c=e[a]).width,c.height,c.getContext("2d");let t,n,o,r=O(c),u=r.length,i=u?r[0].length:0,d=3*i%4,b=(4*i+d)*u,f=40+b+64,s=new Array(i*u*2/8+1).join("\0");t=j(2*u,4),n=j(i,4),b=j(b,4),f=j(f,4),o="(\0\0\0"+n+t+"\0 \0\0\0\0\0"+b+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"+g(r,d)+s,l.push(o)}for(n=j(e.length,2),t="\0\0\0"+n,o=t.length+16*e.length,a=0;a<e.length;a++){let n;(n=e[a]).width,n.height,t=t+j(n.width,1)+j(n.height,1)+"\0\0\0 \0"+j(l[a].length,4)+j(o,4),o+=l[a].length}for(a=0;a<e.length;a++)t+=l[a];return"data:image/vnd.microsoft.icon;base64,"+btoa(t)}(n),b.value){t.success("生成成功");let e=(3*b.value.length/4/1024).toFixed(2).toString();i.value=[],i.value.push("转换完成："),i.value.push("文件名："+f.value),i.value.push(`大小：${e}KB`)}}}(e.result,d.value.name)})}function p(){if(!b.value)return t.warning("请先生成文件");window.open(b.value)}function j(e,t){let a=[];for(;t>0;t--)a.push(String.fromCharCode(255&e)),e>>=8;return a.join("")}function g(e,t){for(var a,n,o,c=e.length,l=c?e[0].length:0,r="",u=[];t>0;t--)r+="\0";for(a=0;a<c;a++){for(n=0;n<l;n++)o=e[a][n],u.push(String.fromCharCode(o[2])+String.fromCharCode(o[1])+String.fromCharCode(o[0])+(void 0===o[3]?"ÿ":String.fromCharCode(o[3])));u.push(r)}return u.join("")}function O(e){let t=e.width,a=e.height,n=e.getContext("2d").getImageData(0,0,t,a),o=[];for(let e=a-1;e>=0;e--){let a=[];for(let o=0;o<t;o++){let c=[],l=4*(e*t+o);c.push(n.data[l+0]),c.push(n.data[l+1]),c.push(n.data[l+2]),c.push(n.data[l+3]),a.push(c)}o.push(a)}return o}return(e,t)=>{const o=Object(n.resolveComponent)("n-upload-dragger"),d=Object(n.resolveComponent)("n-upload"),f=Object(n.resolveComponent)("n-checkbox"),j=Object(n.resolveComponent)("n-checkbox-group"),g=Object(n.resolveComponent)("n-card"),O=Object(n.resolveComponent)("n-button"),v=Object(n.resolveComponent)("n-input-group");return Object(n.openBlock)(),Object(n.createElementBlock)("main",c,[Object(n.createVNode)(d,{action:"#",accept:"image/*","default-upload":!1,"show-file-list":!1,"on-change":s},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(o,null,{default:Object(n.withCtx)(()=>[Object(n.createTextVNode)(Object(n.toDisplayString)(Object(n.unref)(a)),1)]),_:1})]),_:1}),Object(n.createVNode)(g,null,{default:Object(n.withCtx)(()=>[l,Object(n.createVNode)(j,{value:Object(n.unref)(u),"onUpdate:value":t[0]||(t[0]=e=>Object(n.isRef)(u)?u.value=e:u=e)},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(f,{value:"16",label:"16×16"}),Object(n.createVNode)(f,{value:"32",label:"32×32"}),Object(n.createVNode)(f,{value:"48",label:"48×48"}),Object(n.createVNode)(f,{value:"64",label:"64×64"}),Object(n.createVNode)(f,{value:"128",label:"128×128"}),Object(n.createVNode)(f,{value:"256",label:"256×256"})]),_:1},8,["value"])]),_:1}),Object(n.createVNode)(v,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(O,{onClick:h},{default:Object(n.withCtx)(()=>[Object(n.createTextVNode)("生成Ico文件")]),_:1}),Object(n.createVNode)(O,{onClick:p},{default:Object(n.withCtx)(()=>[Object(n.createTextVNode)("下载Ico文件")]),_:1})]),_:1}),Object(n.createVNode)(g,null,{default:Object(n.withCtx)(()=>[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(Object(n.unref)(i),(e,t)=>(Object(n.openBlock)(),Object(n.createElementBlock)("p",{class:"output",key:t},Object(n.toDisplayString)(e),1))),128)),Object(n.createElementVNode)("img",{src:Object(n.unref)(b),alt:""},null,8,r)]),_:1})])}}},i=(a("106e"),a("6b0d"));const d=a.n(i)()(u,[["__scopeId","data-v-76c9fe00"]]);t.default=d},"106e":function(e,t,a){"use strict";a("755d")},"4ef6":function(e,t,a){(t=a("24fb")(!1)).push([e.i,"[data-v-76c9fe00] .n-upload{margin-bottom:20px}[data-v-76c9fe00] .n-upload .n-upload-trigger{width:100%}.n-card[data-v-76c9fe00]{margin-bottom:20px}.n-card .n-card__content .title[data-v-76c9fe00]{margin-bottom:10px;font-weight:600}.n-card .output[data-v-76c9fe00]{color:#8590a6}.n-checkbox-group[data-v-76c9fe00]{display:flex;flex-direction:row;flex-wrap:wrap}.n-checkbox-group .n-checkbox[data-v-76c9fe00]{width:33.3%}.n-input-group[data-v-76c9fe00]{margin-bottom:10px}",""]),e.exports=t},"755d":function(e,t,a){var n=a("4ef6");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("499e").default)("4f7b90b0",n,!0,{sourceMap:!1,shadowMode:!1})}}]);