(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3b7fca78"],{"43ef":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var c=n("7a23"),o=n("73170"),a={class:"record"},r=Object(c.n)(" 此功能仅支持电脑端使用，推荐使用谷歌浏览器。 "),i=Object(c.n)("开始录制"),d=Object(c.n)("录制中..."),u=Object(c.n)("下载"),b={key:2,id:"video1",autoplay:""},j={key:3,id:"video2",controls:""},s={setup:function(e){var t=Object(o.a)(),n=-1==navigator.userAgent.indexOf("iPhone")&&-1==navigator.userAgent.indexOf("Android"),s=Object(c.L)({}),f=Object(c.L)({}),O=Object(c.N)(!0),v=Object(c.N)(!0),l=Object(c.N)("");function p(){navigator.mediaDevices.getDisplayMedia({video:!0}).then((function(e){t.success("开始录制"),O.value=!0,v.value=!1,f=e,""!==l.value&&window.URL.revokeObjectURL(l),Object(c.w)((function(){document.getElementById("video1").srcObject=f;var e=MediaRecorder.isTypeSupported("video/webm; codecs=vp9")?"video/webm; codecs=vp9":"video/webm";s=new MediaRecorder(f,{mimeType:e});var n=[];s.addEventListener("dataavailable",(function(e){return n.push(e.data)})),s.addEventListener("stop",(function(){t.success("停止录制"),O.value=!1,v.value=!0,sessionStorage.setItem("recordFlag",!1),sessionStorage.setItem("stateFlag",!0);var e=new Blob(n,{type:n[0].type});l=URL.createObjectURL(e),Object(c.w)((function(){document.getElementById("video2").src=l}))})),s.start()}))})).catch((function(e){String(e).indexOf("Permission denied")&&t.warning("录制请求被拒绝")}))}function g(){var e=document.createElement("a");e.href=l,e.download="网页录制-".concat((new Date).toLocaleString(),".mp4"),e.click()}return Object(c.B)((function(){v.value})),function(e,t){var o=Object(c.Q)("n-alert"),s=Object(c.Q)("n-button"),f=Object(c.Q)("n-input-group");return Object(c.H)(),Object(c.k)("main",a,[Object(c.U)(n)?Object(c.j)("",!0):(Object(c.H)(),Object(c.i)(o,{key:0,type:"error"},{default:Object(c.Y)((function(){return[r]})),_:1})),Object(c.U)(n)?(Object(c.H)(),Object(c.i)(f,{key:1},{default:Object(c.Y)((function(){return[Object(c.U)(v)?(Object(c.H)(),Object(c.i)(s,{key:0,ghost:"",onClick:p},{default:Object(c.Y)((function(){return[i]})),_:1})):(Object(c.H)(),Object(c.i)(s,{key:1,ghost:""},{default:Object(c.Y)((function(){return[d]})),_:1})),Object(c.U)(O)?Object(c.j)("",!0):(Object(c.H)(),Object(c.i)(s,{key:2,ghost:"",onClick:g},{default:Object(c.Y)((function(){return[u]})),_:1}))]})),_:1})):Object(c.j)("",!0),Object(c.U)(O)&&Object(c.U)(n)?(Object(c.H)(),Object(c.k)("video",b)):Object(c.j)("",!0),!Object(c.U)(O)&&Object(c.U)(n)?(Object(c.H)(),Object(c.k)("video",j)):Object(c.j)("",!0)])}}},f=(n("f37b"),n("d959"));const O=n.n(f)()(s,[["__scopeId","data-v-19e0f5cd"]]);t.default=O},"4dae":function(e,t,n){var c=n("da84"),o=n("23cb"),a=n("07fa"),r=n("8418"),i=c.Array,d=Math.max;e.exports=function(e,t,n){for(var c=a(e),u=o(t,c),b=o(void 0===n?c:n,c),j=i(d(b-u,0)),s=0;u<b;u++,s++)r(j,s,e[u]);return j.length=s,j}},8833:function(e,t,n){(t=n("24fb")(!1)).push([e.i,".n-input-group[data-v-19e0f5cd]{margin-bottom:20px}video[data-v-19e0f5cd]{width:100%}",""]),e.exports=t},addb:function(e,t,n){var c=n("4dae"),o=Math.floor,a=function(e,t){var n=e.length,d=o(n/2);return n<8?r(e,t):i(e,a(c(e,0,d),t),a(c(e,d),t),t)},r=function(e,t){for(var n,c,o=e.length,a=1;a<o;){for(c=a,n=e[a];c&&t(e[c-1],n)>0;)e[c]=e[--c];c!==a++&&(e[c]=n)}return e},i=function(e,t,n,c){for(var o=t.length,a=n.length,r=0,i=0;r<o||i<a;)e[r+i]=r<o&&i<a?c(t[r],n[i])<=0?t[r++]:n[i++]:r<o?t[r++]:n[i++];return e};e.exports=a},f37b:function(e,t,n){"use strict";n("f415")},f415:function(e,t,n){var c=n("8833");c.__esModule&&(c=c.default),"string"==typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);(0,n("499e").default)("18e2f1f3",c,!0,{sourceMap:!1,shadowMode:!1})}}]);