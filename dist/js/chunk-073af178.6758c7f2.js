(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-073af178"],{"43ef":function(e,t,c){"use strict";c.r(t);c("d3b7"),c("3ca3"),c("ddb0"),c("2b3d"),c("9861");var n=c("7a23"),o=c("73170"),a={class:"record"},i=Object(n.m)(" 此功能仅支持电脑端使用，推荐使用谷歌浏览器。 "),r=Object(n.m)("开始录制"),u=Object(n.m)("录制中..."),s=Object(n.m)("下载"),d={key:2,id:"video1",autoplay:""},b={key:3,id:"video2",controls:""},j={setup:function(e){var t=Object(o.a)(),c=-1==navigator.userAgent.indexOf("iPhone")&&-1==navigator.userAgent.indexOf("Android"),j=Object(n.K)({}),O=Object(n.K)({}),f=Object(n.M)(!0),v=Object(n.M)(!0),l=Object(n.M)("");function p(){navigator.mediaDevices.getDisplayMedia({video:!0}).then((function(e){t.success("开始录制"),f.value=!0,v.value=!1,O=e,""!==l.value&&window.URL.revokeObjectURL(l),Object(n.v)((function(){document.getElementById("video1").srcObject=O;var e=MediaRecorder.isTypeSupported("video/webm; codecs=h264")?"video/webm; codecs=h264":"video/webm";j=new MediaRecorder(O,{mimeType:e});var c=[];j.addEventListener("dataavailable",(function(e){return c.push(e.data)})),j.addEventListener("stop",(function(){t.success("停止录制"),f.value=!1,v.value=!0,sessionStorage.setItem("recordFlag",!1),sessionStorage.setItem("stateFlag",!0);var e=new Blob(c,{type:c[0].type});l=URL.createObjectURL(e),Object(n.v)((function(){document.getElementById("video2").src=l}))})),j.start()}))})).catch((function(e){String(e).indexOf("Permission denied")&&t.warning("录制请求被拒绝")}))}function m(){var e=document.createElement("a");e.href=l,e.download="网页录制-".concat((new Date).toLocaleString(),".mp4"),e.click()}return Object(n.A)((function(){v.value})),function(e,t){var o=Object(n.P)("n-alert"),j=Object(n.P)("n-button"),O=Object(n.P)("n-input-group");return Object(n.G)(),Object(n.k)("main",a,[Object(n.T)(c)?Object(n.j)("",!0):(Object(n.G)(),Object(n.i)(o,{key:0,type:"error"},{default:Object(n.X)((function(){return[i]})),_:1})),Object(n.T)(c)?(Object(n.G)(),Object(n.i)(O,{key:1},{default:Object(n.X)((function(){return[Object(n.T)(v)?(Object(n.G)(),Object(n.i)(j,{key:0,ghost:"",onClick:p},{default:Object(n.X)((function(){return[r]})),_:1})):(Object(n.G)(),Object(n.i)(j,{key:1,ghost:""},{default:Object(n.X)((function(){return[u]})),_:1})),Object(n.T)(f)?Object(n.j)("",!0):(Object(n.G)(),Object(n.i)(j,{key:2,ghost:"",onClick:m},{default:Object(n.X)((function(){return[s]})),_:1}))]})),_:1})):Object(n.j)("",!0),Object(n.T)(f)&&Object(n.T)(c)?(Object(n.G)(),Object(n.k)("video",d)):Object(n.j)("",!0),!Object(n.T)(f)&&Object(n.T)(c)?(Object(n.G)(),Object(n.k)("video",b)):Object(n.j)("",!0)])}}},O=(c("445b"),c("d959"));const f=c.n(O)()(j,[["__scopeId","data-v-5d5a9615"]]);t.default=f},"445b":function(e,t,c){"use strict";c("7a0a")},73170:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c("7a23"),o=c("431f"),a=c("7f17");function i(){const e=Object(n.r)(a.a,null);return null===e&&Object(o.a)("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}},"7a0a":function(e,t,c){var n=c("f24b");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,c("499e").default)("24074e0c",n,!0,{sourceMap:!1,shadowMode:!1})},8418:function(e,t,c){"use strict";var n=c("a04b"),o=c("9bf2"),a=c("5c6c");e.exports=function(e,t,c){var i=n(t);i in e?o.f(e,i,a(0,c)):e[i]=c}},f24b:function(e,t,c){(t=c("24fb")(!1)).push([e.i,".n-input-group[data-v-5d5a9615]{margin-bottom:20px}video[data-v-5d5a9615]{width:100%}",""]),e.exports=t}}]);